"prompt": "What is service heartbeating in the Services Framework and how can it be added to a service?",
"answer": "Service heartbeating in the Services Framework allows each service to monitor the availability of its dependent services by generating heartbeat DTOs at intervals defined by the heartbeatMS during the service configuration. There are two options to add heartbeat capability to a service: implementing the HeartbeatSource and/or HeartbeatListener interfaces, or extending the HeartbeatService. The HeartbeatSource interface defines a method called heartbeatTimer() that is called on a time interval defined by heartbeatMS configuration parameter, while the HeartbeatListener interface defines a method called heartbeat() that is called periodically under normal operation. Alternatively, a service can extend software.chronicle.services.heartbeat.HeartbeatService which implements both of these interfaces, and appropriate processing."
 
"prompt": "What is the HeartbeatSource interface and what methods does it define?",
"answer": "The HeartbeatSource interface is implemented by each service which needs to produce heartbeats. It defines a method called heartbeatTimer() that is called on a time interval defined by heartbeatMS configuration parameter. The method takes a long parameter called currentTime and is called periodically under normal operation. The HeartbeatSource interface extends the HeartbeatDefinitionsListener interface which defines a method called heartbeatDefinitions(). Hence, each service implementing HeartbeatSource should override both methods heartbeatTimer() and heartbeatDefinitions()."

"prompt": "What is the HeartbeatListener interface and what methods does it define?",
"answer": "The HeartbeatListener interface is implemented by each component which needs to receive heartbeats. It defines a method called heartbeat() that is called periodically under normal operation. The method takes a Heartbeat parameter called heartbeat and is called periodically under normal operation."

"prompt": "What is the HeartbeatDefinitions object and what fields does it have?",
"answer": "The HeartbeatDefinitions object is used to configure the services heartbeating and includes a List of HeartbeatDefinition objects. A HeartbeatDefinition has the following fields: source (the name of the service that generates heartbeats), timeoutInSecs (the timeout for receiving heartbeats from upstream services in seconds), and dependsOn (the upstream services of this source)."

"prompt": "How can a HeartbeatDefinitions be populated and generated?",
"answer": "A HeartbeatDefinitions can be populated by writing a YAML file or by generating it using the software.chronicle.services.tools.HeartbeatDefnFromServices tool. To populate a HeartbeatDefinitions using a YAML file, the YAML file should include a !HeartbeatDefinitions tag followed by a list of HeartbeatDefinition objects. To generate a HeartbeatDefinitions using the tool, a serviceCfg object should be populated from a configuration file, and then the HeartbeatDefnFromServices().generate() method should be called with the heartbeat timeout as a parameter."
